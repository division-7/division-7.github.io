"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}window.searchboxParams=function(e,t){return{container:"#".concat(e),placeholder:"Rechercher",showReset:!1,showLoadingIndicator:!1,cssClasses:{root:"".concat(t,"-container"),form:"".concat(t,"-form"),input:"".concat(t,"-form__input"),submit:"".concat(t,"-form__submit"),submitIcon:"".concat(t,"-form__submit-icon")}}};var tsToDate=function(e){var t=new Date(1e3*e),r=t.getDate(),n=(t.getMonth()+1<10?"0":"")+(t.getMonth()+1),a=t.getFullYear(),c=(t.getHours()<10?"0":"")+t.getHours(),o=(t.getMinutes()<10?"0":"")+t.getMinutes();return"".concat(r,"/").concat(n,"/").concat(a," Ã  ").concat(c,"h").concat(o)},checkCategories=function(e){if(void 0!==e){var t={isHub:!1,isGuideShopping:!1,label:"",img:""};return e.forEach(function(e){-1!==e.indexOf("Hub ")?(t.label=e,t.img=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ ]/g,"-").toLowerCase(),t.isHub=!0):-1!==e.indexOf("Guide ")&&(t.label=e,t.img=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ ]/g,"-").toLowerCase(),t.isGuideShopping=!0)}),t}},formatContent=function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&nbsp;/g," ")};window.hitsParams=function(e){return{container:"#".concat(e),cssClasses:{list:"result-list",item:"article-list__item"},templates:{item:document.getElementById("template-hits").innerHTML,empty:document.getElementById("template-hits-empty").innerHTML},transformItems:function(e){return e.map(function(e){return _objectSpread(_objectSpread({},e),{},{specs:_objectSpread(_objectSpread({},e.specs),{},{free:e.specs.free<2}),timestampCreated:tsToDate(e.timestampCreated),categoriesInfos:checkCategories(e.specs.categories),body:formatContent(e.body),_snippetResult:_objectSpread(_objectSpread({},e._snippetResult),{},{body:{value:formatContent(e._snippetResult.body.value)}})})})}}};var searchLayer=document.getElementById("searchLayer"),renderLayer=!1,searchClient={search:function(e){return!1===renderLayer?Promise.resolve({results:e.map(function(){return{hits:[],nbHits:0,nbPages:0}})}):algoliaClient.search(e)}},headerSearch=instantsearch({indexName:algoliaIndex,searchClient:searchClient});headerSearch.addWidgets([instantsearch.widgets.searchBox(searchboxParams("headerSearchbox","header-searchbox")),instantsearch.widgets.configure({filters:"status != 0",hitsPerPage:5,attributesToSnippet:["body:30","header.title:20"],snippetEllipsisText:"..."}),instantsearch.widgets.hits(hitsParams("headerHits")),instantsearch.widgets.analytics({pushFunction:function(e,t,r){renderLayer&&xt_click("".concat(r.query),"menu","header","0")}})]),headerSearch.start(),document.addEventListener("DOMContentLoaded",function(){document.getElementById("headerSearchbox").addEventListener("click",function(e){renderLayer=!0,xt_click("input-recherche","menu","header","0"),headerSearch.refresh()})});